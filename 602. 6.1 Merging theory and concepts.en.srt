1
00:00:06,650 --> 00:00:11,050
In our previous lesson, we talked about
branches and why do we need branches.

2
00:00:12,199 --> 00:00:14,769
Now, as we work on a feature,

3
00:00:14,769 --> 00:00:18,089
most likely we would be
creating a separate branch

4
00:00:18,089 --> 00:00:20,300
which would contain those
feature-related changes.

5
00:00:20,800 --> 00:00:24,449
But eventually, what we want
to do is we want to integrate

6
00:00:24,449 --> 00:00:27,199
our work with the rest of our team's work.

7
00:00:28,559 --> 00:00:33,619
In order to do that, there is a main
branch where everyone integrates their work to.

8
00:00:34,840 --> 00:00:38,020
So you would be merging
your feature branch into the

9
00:00:38,020 --> 00:00:40,259
main branch after
completing the feature request.

10
00:00:40,979 --> 00:00:42,079
Now, how do we merge?

11
00:00:43,219 --> 00:00:44,960
In order to merge your changes,

12
00:00:44,960 --> 00:00:48,439
go to the branch where you
want to merge your changes into.

13
00:00:49,539 --> 00:00:54,299
For example, let's say you want to merge
your feature branch into master branch.

14
00:00:55,280 --> 00:01:00,009
For that, go to master branch
with command git checkout master,

15
00:01:01,000 --> 00:01:03,100
Run git merge feature branch.

16
00:01:03,880 --> 00:01:06,980
This will merge feature
branch into the master branch.

17
00:01:08,239 --> 00:01:12,340
Now one thing to note here is
that although we are merging

18
00:01:12,340 --> 00:01:15,750
in this example directly
into the master from the CLI,

19
00:01:15,750 --> 00:01:18,469
but we never usually do it like that.

20
00:01:19,680 --> 00:01:23,250
There are better ways to do
it by creating a pull request,

21
00:01:23,250 --> 00:01:25,939
which we will get into
in the later section.

22
00:01:26,680 --> 00:01:29,620
Now, there can be
different scenarios while merging.

23
00:01:30,299 --> 00:01:34,379
The first scenario we are going to
talk about is a fast-forward merge.

24
00:01:35,780 --> 00:01:36,849
Let's take an example.

25
00:01:37,849 --> 00:01:43,000
Let's say we are on master branch, and
our master branch is pointing to commit C1.

26
00:01:43,739 --> 00:01:48,400
Now we want to work on a feature,
so we will create a feature branch,

27
00:01:48,400 --> 00:01:50,579
which is pointing to C1 right now.

28
00:01:51,219 --> 00:01:54,129
And now we will switch
to the feature branch,

29
00:01:54,129 --> 00:01:57,049
and start to make commits
on this feature branch.

30
00:01:59,810 --> 00:02:02,370
Now I'm finished with my
feature branch changes,

31
00:02:02,370 --> 00:02:06,209
and we want to merge the
feature branch back to the master.

32
00:02:07,680 --> 00:02:12,379
So we'll do git checkout master
and git merge feature branch.

33
00:02:14,169 --> 00:02:20,139
Now in this case, it is a special case
of merging where the branch you branched

34
00:02:20,139 --> 00:02:25,000
off has no further commits than
what you did in the new branch.

35
00:02:26,379 --> 00:02:28,159
For example, in this case,

36
00:02:28,159 --> 00:02:33,129
there were no more commits in the
master branch when you started to merge.

37
00:02:33,949 --> 00:02:37,389
The master branch was
still pointing to commit C1.

38
00:02:38,490 --> 00:02:43,810
Let's see what happens for a merge where
we have different commits. In example,

39
00:02:43,810 --> 00:02:48,259
we have a master branch
which is pointing to commit C1,

40
00:02:48,259 --> 00:02:51,900
and our feature branch
is pointing to commit C3.

41
00:02:54,469 --> 00:02:59,219
Now somebody comes and make two
more commits in the master branch.

42
00:03:01,479 --> 00:03:04,580
Now our master branch is
pointing to commit C5.

43
00:03:05,879 --> 00:03:11,090
In this case, when I try to merge
using git merge feature branch,

44
00:03:11,090 --> 00:03:15,110
it cannot be a fast forward
merge because both master

45
00:03:15,110 --> 00:03:17,509
and feature branch have different commits.

46
00:03:18,409 --> 00:03:24,580
Master branch has C4 and C5,
whereas feature branch has C2 and C3.

47
00:03:25,979 --> 00:03:32,550
So in this case, what Git does is that it
will automatically create another commit,

48
00:03:32,550 --> 00:03:39,110
which is called merge commit with the
name merge branch and name of the branch.

49
00:03:42,610 --> 00:03:47,740
Now, our master branch will be
pointing to the newly created merged commit.

50
00:03:48,460 --> 00:03:51,330
This merge commit will
contain all the changes

51
00:03:51,330 --> 00:03:53,840
which are related to the feature branch.

52
00:03:55,039 --> 00:03:56,180
What is a merge commit?

53
00:03:57,159 --> 00:04:00,509
Git creates this commit
automatically while merging

54
00:04:00,509 --> 00:04:04,340
two branches when fast
forward is not possible.

55
00:04:06,080 --> 00:04:10,340
This merge commit will contain the
changes related to both the branches.

56
00:04:11,509 --> 00:04:16,300
There can be scenarios where you have
conflicts while merging the branches,

57
00:04:16,300 --> 00:04:18,689
which are known as merge conflicts.

58
00:04:20,029 --> 00:04:24,689
Conflicts occur when the same
file is changed in two branches.

59
00:04:26,250 --> 00:04:29,410
In that case, we need
to resolve the conflicts

60
00:04:29,410 --> 00:04:32,220
between the branches
in order to merge them.

61
00:04:33,740 --> 00:04:34,920
Let's take an example.

62
00:04:36,000 --> 00:04:39,019
So our master branch now
is pointing to commit C5,

63
00:04:40,879 --> 00:04:44,189
Whereas our feature branch
is pointing to commit C3.

64
00:04:45,870 --> 00:04:51,009
Now in the commit C4, file A
is changed in master branch,

65
00:04:51,009 --> 00:04:55,300
and in the feature
branch, also file A is changed.

66
00:04:56,680 --> 00:05:03,089
Now in both the branches, we have
changed the same file, In this case,

67
00:05:03,089 --> 00:05:07,470
when we try to merge feature
branch into master branch,

68
00:05:07,470 --> 00:05:11,850
there will be merge conflict
because file A has different

69
00:05:11,850 --> 00:05:15,350
content in master branch
and in feature branch.

70
00:05:18,509 --> 00:05:20,730
This is how the conflicts look like.

71
00:05:22,410 --> 00:05:25,459
In the conflicts you have head,

72
00:05:25,459 --> 00:05:30,029
this content between the
arrows and the hyphens means

73
00:05:30,029 --> 00:05:34,100
the content already
exists in the current branch.

74
00:05:35,779 --> 00:05:37,949
This is your division line,

75
00:05:37,949 --> 00:05:42,300
which define the division between the
conflicting changes between branches.

76
00:05:45,220 --> 00:05:49,930
The last section represents the content
from the branch you are trying to merge,

77
00:05:49,930 --> 00:05:51,610
which is your feature branch.

78
00:05:53,110 --> 00:05:58,370
Now we know what a merging is, fast
forward merge, as well as three-way merge,

79
00:05:58,370 --> 00:06:01,180
and we have also talked
about merge conflicts.

80
00:06:01,879 --> 00:06:04,579
Let's see everything in
practice in the next section.
